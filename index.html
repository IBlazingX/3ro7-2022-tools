<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple tools - 3ro7</title>

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <style>
        body {
            background-color: #232350;
        }
    </style>

    <div class="card text-white bg-success mb-3">
        <div class="card-header" style="text-align: center;">
            Matemáticas
        </div>
        <div class="card-body p-2">
            <div style="display: flex; overflow-x: scroll; overflow-y: hidden;">
                <div class="card text-white bg-dark mb-3" style="min-width: 99%; margin: 5px;">
                    <div class="card-header" style="text-align: center;">
                        Ecuaciones de 2do grado
                    </div>
                    <div class="card-body">
                        <p class="card-text">
                            Resuelve una ecuación de segundo grado, ej: <span style="color: green;">2x²+8=12</span><br>
                            Para elevar la x al cuadrado escribe <span style="color: green;">x²</span> o <span style="color: green;">x^2</span>
                        </p>
                        <hr>
                        <div class="input-group mb-3">
                            <input type="text" placeholder="2x²+8=12" class="form-control" id="ecuaciones-2nd-grado-input">
                        </div>
                        <p class="card-text text-muted" id="ecuaciones-2nd-grado-result">
                            2x²+8=12<br>
                            2x²=12-8<br>
                            x²=4:2<br>
                            x=±√2<br>
                            x=±1.4142135623730951
                        </p>
                        <p class="card-text text-muted" id="ecuaciones-2nd-grado-confirm">
                            <span style="color: white; text-decoration: underline;">Verificación</span><br>
                            2x²+8=12<br>
                            2.(√2)²+8=12<br>
                            2x²+8=12<br>
                            2.(-√2)²+8=12
                        </p>
                    </div>
        
                    <script>
                        document.getElementById('ecuaciones-2nd-grado-input').addEventListener("input", function(){
                            /** @type {String} */
                            let input = this.value
                            let values = []
                            let temp = ''

                            for (let char of input.split('')) {
                                if (values.length == 0) {
                                    let can = true

                                    if ((temp.endsWith('x^2') || temp.endsWith('x²') ? temp.endsWith('x^2') ? temp.slice(0, -3) : temp.slice(0, -2) : temp).split('').filter(v => !'0123456789+-,'.split('').includes(v)).length > 0) can = false
                                    if (temp.split('').filter(v => ['+', '-'].includes(v)).length > 0 && !['+', '-'].includes(temp.slice(0, 1))) can = false
                                    if (temp.split('').filter(v => ['+', '-'].includes(v)).length > 1) can = false
                                    if (temp.split('').filter(v => v === ',').length > 1) can = false
                                    if (!temp.endsWith('x^2') && !temp.endsWith('x²')) can = false
                                    if (temp.endsWith(',') || temp.startsWith(',')) can = false
                                    if (temp.length < 1) can = false
                                    
                                    if (can && ['-', '+'].includes(char)) {
                                        if (temp.startsWith('+')) temp = temp.slice(1)
                                        if (temp.includes('x^2')) temp = temp.split('x^2').join('x²')

                                        values.push(temp.split(',').join('.'))
                                        temp = char

                                    } else temp+= char

                                } else if (values.length == 1) {
                                    let can = true

                                    if (!['-', '+'].includes(temp.slice(0, 1))) can = false
                                    if (temp.split('').filter(v => !'0123456789,+-'.split('').includes(v)).length > 0) can = false
                                    if (temp.split('').filter(v => '0123456789'.split('').includes(v)).length < 1) can = false
                                    if (temp.split('').filter(v => ['+', '-'].includes(v)).length > 1) can = false
                                    if (temp.endsWith(',') || temp.slice(1).startsWith(',')) can = false
                                    if (temp.split('').filter(v => v === ',').length > 1) can = false
                                    if (temp.length < 2) can = false
                                    
                                    if (can && char === '=') {
                                        values.push(temp.split(',').join('.'))
                                        temp = char

                                    } else temp+= char
                                } else if (values.length == 2) {
                                    let can = true
                                    temp+= char

                                    if (['=+', '=-'].includes(temp.slice(0, 2)) && temp.slice(2, 3) === ',') can = false
                                    if (temp.split('').filter(v => ['+', '-'].includes(v)).length > 0 && !['+', '-'].includes(temp.slice(1, 2))) can = false
                                    if (temp.split('').filter(v => !'0123456789,+-='.split('').includes(v)).length > 0) can = false
                                    if (temp.split('').filter(v => '0123456789'.split('').includes(v)).length < 1) can = false
                                    if (temp.split('').filter(v => ['+', '-'].includes(v)).length > 1) can = false
                                    if (temp.endsWith(',') || temp.slice(1).startsWith(',')) can = false
                                    if (temp.split('').filter(v => v === ',').length > 1) can = false
                                    if (temp.split('').filter(v => v === '=').length > 1) can = false
                                    if (!temp.startsWith('=')) can = false
                                    if (temp.length < 2) can = false
                                    
                                    if (can && values.join('').split('.').join(',') + temp === input.split('x^2').join('x²')) {
                                        if (temp.startsWith('=+')) temp = '=' + temp.slice(2)

                                        values.push(temp.split(',').join('.'))
                                        temp = ''
                                    }
                                }
                            }

                            let val1 = values[0] || '', val2 = values[1] || '', val3 = values[2] || ''

                            document.getElementById('ecuaciones-2nd-grado-result').textContent = ''
                            document.getElementById('ecuaciones-2nd-grado-result').insertAdjacentHTML('afterbegin', `<span style="color: green;">${values.join('')}</span><span style="color: red;">${temp || ''}</span> ${values.length == 3 ? `<br>
                                ${val1}${val3}${val2.slice(0, 1) === '+' ? '-' : '+'}${val2.slice(1)}<br>
                                ${['+x²', '+1x²', '-x²', '-1x²', 'x²', '1x²'].includes(val1) ? `x=±√${Number(val3.slice(1))-Number(val2)}` + '<br>\n' : `x²=${Number(val3.slice(1))-Number(val2)}:${Number(val1.slice(0, -2) || 1)}` + '<br>\n' + `x=±√${(Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1)}`}<br>
                                ${(Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2)) < 0 ? 'x=Ø' : `x=±${Math.sqrt((Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1))}`}
                            `: ''}`.split('.').join(','))
                        
                            document.getElementById('ecuaciones-2nd-grado-confirm').textContent = ''
                            document.getElementById('ecuaciones-2nd-grado-confirm').insertAdjacentHTML('afterbegin', `<span style="color: white; text-decoration: underline;">Verificación</span>${values.length == 3 && (Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2)) >= 0 ? `<br>
                                ${val1}${val2}${val3}<br>
                                ${val1.slice(0, -2)}#${Number.isInteger(Math.sqrt((Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1))) ? Math.sqrt((Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1)) : `(√${(Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1)})`}²${val2}${val3}<br>
                                ${val1}${val2}${val3}<br>
                                ${val1.slice(0, -2)}#(-${Number.isInteger(Math.sqrt((Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1))) ? Math.sqrt((Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1)) : `√${(Number(val3.slice(1))-Number(val2))/Number(val1.slice(0, -2) || 1)}`})²${val2}${val3}
                            `: ''}`.split('.').join(',').split('#').join('.'))

                            if (input.length < 1) {
                                document.getElementById('ecuaciones-2nd-grado-result').textContent = ''
                                document.getElementById('ecuaciones-2nd-grado-result').insertAdjacentHTML('afterbegin', `
                                    2x²+8=12<br>
                                    2x²=12-8<br>
                                    x²=4:2<br>
                                    x=±√2<br>
                                    x=±1.4142135623730951
                                `)

                                document.getElementById('ecuaciones-2nd-grado-confirm').textContent = ''
                                document.getElementById('ecuaciones-2nd-grado-confirm').insertAdjacentHTML('afterbegin', `
                                    <span style="color: white; text-decoration: underline;">Verificación</span><br>
                                    2x²+8=12<br>
                                    2.(√2)²+8=12<br>
                                    2x²+8=12<br>
                                    2.(-√2)²+8=12
                                `)
                            }
                        })

                    </script>
                </div>
                <div class="card text-white bg-dark mb-3" style="min-width: 99%; margin: 5px;">
                    <div class="card-header" style="text-align: center;">
                        Propiedad Hankeliana (in development)
                    </div>
                    <div class="card-body">
                        <p class="card-text">
                            Resuelve una operación con la <span style="color: yellow;">propiedad Hankeliana</span>, ej: <span style="color: green;">x²+5x=0</span><br><br>
                            Es importante que se cumplan estas condiciones para que el problema sea valido en la <span style="color: yellow;">propiedad Hankeliana</span>:
                            <li>El resultado de la operación tiene que ser igual a <span style="color: yellow;">0</span></li>
                            <li>Ambos factores tienen que tener <span style="color: yellow;">parte literal</span></li>
                            <li>Al menos un factor tiene que estar elavado a la <span style="color: yellow;">2 o más</span></li>
                        </p>
                        <hr>
                        <p class="card-text">
                            Operación: <span id="ecuaciones-2nd-grado-val1-text" style="color: #0f0;">x²</span><span id="ecuaciones-2nd-grado-val2-text" style="color: #0f0;">+x</span><span id="ecuaciones-2nd-grado-val3-text" style="color: #0f0;">=0</span><br>
                            Solución: <br>
                            <span class="text-muted" id="ecuaciones-2nd-grado-text">
                                x²+x=0 <br>
                                x.(x+1)=0 <br>
                                Factores { x=0, x+1=0 -> x=0-1 } <br>
                                S = { -1, 0 }
                            </span><br>
                            Verificación: <br>
                            <span class="text-muted" id="ecuaciones-2nd-grado-text">
                                x²+x=0 <br>
                                0²+0=0 <br>
                                x²+x=0 <br>
                                (-1)²+-1=0
                            </span>
                        </p>
                    </div>
                    <!-- <div class="card-footer">
                        <div class="input-group mb-3">
                            <input type="text" class="form-control px-1" id="ecuaciones-2nd-grado-val1">
                            <span class="input-group-text px-1">x²</span>
                            <input type="text" class="form-control px-1" id="ecuaciones-2nd-grado-val2">
                            <span class="input-group-text px-1">=</span>
                            <input type="text" class="form-control px-1" id="ecuaciones-2nd-grado-val3">
                            <button class="btn btn-warning" type="button" id="ecuaciones-2nd-grado" active>Resolver</button>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </div>

    <style>

/* width */
::-webkit-scrollbar {
  width: 20px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px grey; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #00f; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #00c;
}
    </style>

    <!-- BOOTSTRAP -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>